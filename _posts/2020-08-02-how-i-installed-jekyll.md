---
layout: post
title: "My first post! How I installed Jekyll?"
date: 2020-08-02
---

I made my first blog with Jekylll. Jekyll is some kind of website generator. For the installation, I followed https://jekyllrb.com/docs/installation/macos/.

Jekyll is written in Ruby, so it has to be installed. I can check the location and version of Ruby with

	which ruby
	ruby -v

First, I installed the command-line tools with

	xcode-select --install

It turns out that they have been already installed. Then I installed Homebrew. When I tried the command

	/usr/bin/ruby -e  "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

it said

	Warning: The Ruby Homebrew installer is now deprecated and has been rewritten in Bash. Please migrate to the following command:
	/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"
 
So I tried the new command. I probably had it installed before, but I did it again anyway. Now I can install Ruby,

	brew install ruby

and added the brew ruby path

	echo  'export PATH="/usr/local/opt/ruby/bin:$PATH"'  >> ~/.bash_profile

. Note that in the PATH, what's before the others has higher priority.

The guide recommend rbenv, which is used to manage multiple Ruby versions. So I installed rbenv as well.

	# Install rbenv and ruby-build
	brew install rbenv

	# Set up rbenv integration with your shell
	rbenv init

	# Check your installation
	curl -fsSL https://github.com/rbenv/rbenv-installer/raw/master/bin/rbenv-doctor | bash

Then I installed the Ruby version of my choice:

	rbenv install 2.7.1 
	rbenv global 2.7.1
	
	which ruby
	$HOME/.rbenv/shims/ruby

	ruby -v
	ruby 2.7.1p83 (2020-03-31 revision a0c7c23c9c) [x86_64-darwin19]

Now I have to install Bundler and Jekyll locally,

	gem install  --user-install bundler jekyll

and add the path of my Ruby version

	echo  'export PATH="$HOME/.gem/ruby/X.X.0/bin:$PATH"'  >> ~/.bash_profile

. I can confirm my gem paths with

	gem env

, which shows

	- GEM PATHS:
		- /usr/local/lib/ruby/gems/2.7.0
		- $HOME/.gem/ruby/2.7.0
		- /usr/local/Cellar/ruby/2.7.1_2/lib/ruby/gems/2.7.0

Bundler is also recommended in the guide, as it tracks the exact gems and versions that are required for each project. I first initialized the bundler.

	cd youngshk.github.io
	bundle init

Then configured the Bundler install path.

	bundle config set  --local path 'vendor/bundle'

Now the gems will be installed in the project directory. Bundler saves my config in ./.bundle/config. Now I can add Jekyll.

	bundle add jekyll

Initially, I skipped the config step mistakenly. Then even if I configure the path later, I cannot add Jeykill as it is added in the Gemfile already. So I removed it by

	bundle remove jekyll --install

and added it again.

Now I'm ready to create the scaffolding of my site.

	bundle exec jekyll new --force  --skip-bundle  . 
	bundle install

We need '--force' for Jekyll to ignore already existing Bundler files. Also we do 'install' later not to confuse Jekyll with Gemfile(?).

Now I can serve my website.

	bundle exec jekyll serve

All the Jekyll command should be prefixed with 'bundle exec'. The website is available locally at [http://127.0.0.1:4000](http://127.0.0.1:4000/).

For the version control to ignore Bundler files, '.gitignore' should be like this.

	# Ignore metadata generated by Jekyll 
	_site/ 
	.sass-cache/ 
	.jekyll-cache/ 
	.jekyll-metadata 
	
	# Ignore folders generated by Bundler 
	.bundle/ 
	vendor/

> Written with [StackEdit](https://stackedit.io/).
